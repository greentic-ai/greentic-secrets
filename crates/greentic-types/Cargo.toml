# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2024"
rust-version = "1.85"
name = "greentic-types"
version = "0.4.15"
build = false
autolib = false
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = "Shared primitives for Greentic: TenantCtx, InvocationEnvelope, NodeError, ids."
readme = "README.md"
keywords = [
    "greentic",
    "tenant",
    "ctx",
    "envelope",
    "wasm",
]
categories = [
    "data-structures",
    "config",
]
license = "MIT"
repository = "https://github.com/greentic-ai/greentic-types"

[features]
default = [
    "std",
    "serde",
    "time",
    "otel-keys",
]
otel-keys = []
schema = [
    "schemars",
    "dep:anyhow",
    "std",
]
schemars = [
    "dep:schemars",
    "serde",
]
serde = [
    "dep:serde",
    "dep:serde_with",
]
std = []
telemetry-autoinit = [
    "std",
    "dep:anyhow",
    "dep:greentic-telemetry",
    "dep:tracing",
    "dep:tracing-subscriber",
    "dep:opentelemetry-otlp",
    "dep:tokio",
    "dep:greentic-types-macros",
]
time = ["dep:time"]
uuid = ["dep:uuid"]

[lib]
name = "greentic_types"
path = "src/lib.rs"

[[bin]]
name = "export-schemas"
path = "bin/export-schemas.rs"
required-features = ["schema"]

[[test]]
name = "distributor_roundtrip"
path = "tests/distributor_roundtrip.rs"

[[test]]
name = "events_envelope_roundtrip"
path = "tests/events_envelope_roundtrip.rs"

[[test]]
name = "events_provider_descriptor"
path = "tests/events_provider_descriptor.rs"

[[test]]
name = "flow_helpers"
path = "tests/flow_helpers.rs"

[[test]]
name = "messaging_envelope_roundtrip"
path = "tests/messaging_envelope_roundtrip.rs"

[[test]]
name = "pack_manifest_roundtrip"
path = "tests/pack_manifest_roundtrip.rs"

[[test]]
name = "property_tests"
path = "tests/property_tests.rs"

[[test]]
name = "schema"
path = "tests/schema.rs"

[[test]]
name = "serde_roundtrip"
path = "tests/serde_roundtrip.rs"

[[test]]
name = "store_models_roundtrip"
path = "tests/store_models_roundtrip.rs"

[[test]]
name = "supply_chain_roundtrip"
path = "tests/supply_chain_roundtrip.rs"

[[test]]
name = "ui_documents_roundtrip"
path = "tests/ui_documents_roundtrip.rs"

[[test]]
name = "worker_roundtrip"
path = "tests/worker_roundtrip.rs"

[dependencies.anyhow]
version = "1"
optional = true

[dependencies.chrono]
version = "0.4"
features = [
    "alloc",
    "serde",
]
default-features = false

[dependencies.ciborium]
version = "0.2"

[dependencies.fnv]
version = "1"
default-features = false

[dependencies.greentic-telemetry]
version = "0.4"
optional = true

[dependencies.greentic-types-macros]
version = "0.4"
optional = true

[dependencies.indexmap]
version = "2"
features = ["serde"]
default-features = false

[dependencies.opentelemetry-otlp]
version = "0.31"
optional = true

[dependencies.schemars]
version = "1"
features = [
    "derive",
    "chrono04",
]
optional = true

[dependencies.semver]
version = "1"
features = ["serde"]

[dependencies.serde]
version = "1"
features = ["derive"]
optional = true

[dependencies.serde_json]
version = "1"
features = ["alloc"]
default-features = false

[dependencies.serde_with]
version = "3"
features = [
    "macros",
    "base64",
]
optional = true
default-features = false

[dependencies.thiserror]
version = "2"

[dependencies.time]
version = "0.3"
features = [
    "formatting",
    "macros",
    "parsing",
    "serde",
]
optional = true

[dependencies.tokio]
version = "1"
features = [
    "macros",
    "rt",
    "rt-multi-thread",
]
optional = true

[dependencies.tracing]
version = "0.1"
optional = true

[dependencies.tracing-subscriber]
version = "0.3"
features = [
    "registry",
    "std",
]
optional = true
default-features = false

[dependencies.uuid]
version = "1"
features = [
    "v4",
    "serde",
]
optional = true

[dev-dependencies.proptest]
version = "1"

[dev-dependencies.schemars]
version = "1"
features = [
    "derive",
    "chrono04",
]

[dev-dependencies.serde_yaml_bw]
version = "2"
