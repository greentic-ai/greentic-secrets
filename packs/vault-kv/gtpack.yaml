schema_version: pack-v1
id: greentic.secrets.vault-kv
version: "__PACK_VERSION__"
name: "Vault KV v2 provider pack"
description: "Enterprise flows for HashiCorp Vault KV v2: onboarding, validation, read/write, rotation, audit export, breakglass."
kind: provider
entrypoints:
  onboard: flows/provider_onboard.ygtc
  validate: flows/provider_validate.ygtc
  read_secret: flows/provider_read_secret.ygtc
  write_secret: flows/provider_write_secret.ygtc
  rotate_secret: flows/provider_rotate_secret.ygtc
  export_audit: flows/provider_export_audit.ygtc
  breakglass: flows/provider_breakglass.ygtc
components:
  - id: greentic.secrets.provider.vault_kv
    version: "__PACK_VERSION__"
    source: oci
    uri: ghcr.io/greentic-ai/components/greentic.secrets.provider.vault_kv:__PACK_VERSION__
  - id: greentic.secrets.generators
    version: "__PACK_VERSION__"
    source: oci
    uri: ghcr.io/greentic-ai/components/greentic.secrets.generators:__PACK_VERSION__
  - id: greentic.secrets.audit_exporter
    version: "__PACK_VERSION__"
    source: oci
    uri: ghcr.io/greentic-ai/components/greentic.secrets.audit_exporter:__PACK_VERSION__
  - id: greentic.secrets.policy_validator
    version: "__PACK_VERSION__"
    source: oci
    uri: ghcr.io/greentic-ai/components/greentic.secrets.policy_validator:__PACK_VERSION__
schemas:
  config: schema/config.schema.json
  secrets: schema/secrets-required.schema.json
metadata: metadata.json
extensions:
  greentic.ext.provider:
    provider:
      id: greentic.secrets.vault-kv
      runtime:
        world: "greentic:provider-schema-core/schema-core@1.0.0"
        component_ref: ghcr.io/greentic-ai/components/greentic.secrets.provider.vault_kv:__PACK_VERSION__
        export: "invoke"
