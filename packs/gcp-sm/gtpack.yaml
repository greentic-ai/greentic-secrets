schema_version: pack-v1
id: greentic.secrets.gcp-sm
version: "__PACK_VERSION__"
name: "GCP Secret Manager provider pack"
description: "Enterprise flows for GCP Secret Manager: onboarding, validation, read/write, rotation, audit export, breakglass."
kind: provider
entrypoints:
  onboard: flows/provider_onboard.ygtc
  validate: flows/provider_validate.ygtc
  read_secret: flows/provider_read_secret.ygtc
  write_secret: flows/provider_write_secret.ygtc
  rotate_secret: flows/provider_rotate_secret.ygtc
  export_audit: flows/provider_export_audit.ygtc
  breakglass: flows/provider_breakglass.ygtc
components:
  - id: greentic.secrets.provider.gcp_sm
    version: "__PACK_VERSION__"
    source: oci
    uri: ghcr.io/greentic-ai/components/greentic.secrets.provider.gcp_sm:__PACK_VERSION__
  - id: greentic.secrets.generators
    version: "__PACK_VERSION__"
    source: oci
    uri: ghcr.io/greentic-ai/components/greentic.secrets.generators:__PACK_VERSION__
  - id: greentic.secrets.audit_exporter
    version: "__PACK_VERSION__"
    source: oci
    uri: ghcr.io/greentic-ai/components/greentic.secrets.audit_exporter:__PACK_VERSION__
  - id: greentic.secrets.policy_validator
    version: "__PACK_VERSION__"
    source: oci
    uri: ghcr.io/greentic-ai/components/greentic.secrets.policy_validator:__PACK_VERSION__
schemas:
  config: schema/config.schema.json
  secrets: schema/secrets-required.schema.json
metadata: metadata.json
extensions:
  greentic.provider-extension.v1:
    kind: greentic.provider-extension.v1
    version: "1.0.0"
    provider:
      id: greentic.secrets.gcp-sm
      runtime:
        world: "greentic:provider-schema-core/schema-core@1.0.0"
        component_ref: ghcr.io/greentic-ai/components/greentic.secrets.provider.gcp_sm:__PACK_VERSION__
        export: "invoke"
  greentic.secrets.validators.v1:
    kind: greentic.secrets.validators.v1
    version: "1.0.0"
    validators:
      - id: greentic.validators.secrets
        world: "greentic:pack-validate/pack-validator@0.1.0"
        component_ref: ghcr.io/greentic-ai/validators/secrets:__PACK_VERSION__
